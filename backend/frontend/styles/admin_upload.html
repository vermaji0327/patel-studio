<!doctype html>
<html>
  <head>
    <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Admin Upload</title>
    <style>body{font-family:system-ui;padding:20px}input,button{padding:8px;margin:6px}</style>
  </head>
  <body>
  <h3>Admin Upload — attach photos to token</h3>
  <label>Token: <input id="token" placeholder="fgfl5qjj5yo" /></label><br/>
  <input id="files" type="file" multiple accept="image/*" /><br/>
  <button id="up">Upload</button>
  <div id="res"></div>

<script>
document.getElementById('up').addEventListener('click', async ()=>{
  const token = document.getElementById('token').value.trim();
  const files = document.getElementById('files').files;
  if(!token) return alert('Enter token');
  if(!files.length) return alert('Select files');
  const fd = new FormData();
  fd.append('token', token);
  for(const f of files) fd.append('files', f);
  document.getElementById('res').innerText = 'Uploading...';
  try{
    const r = await fetch('/api/upload', { method:'POST', body: fd });
    const j = await r.json();
    document.getElementById('res').innerText = JSON.stringify(j, null, 2);
  }catch(e){ document.getElementById('res').innerText = 'Error: '+e.message; }
});
</script>
</body></html>
